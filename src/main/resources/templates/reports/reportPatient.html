
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">



<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, user-scalable=0">
<th:block th:insert="fragments/resources-css" />
</head>

<body>
	<div class="main-wrapper">
		<!-- Header -->
		<th:block th:insert="fragments/header" />
		<!-- Sidebar -->
		<th:block th:insert="fragments/sidebar" />
		<!-- Content -->
		<div class="page-wrapper">
			<div class="content">
				<div class="row">
					<div class="col-sm-4 col-3">
						<h4 class="page-title">Patients</h4>
					</div>
					<div class="col-sm-8 col-9 text-right m-b-20">
						<a th:href="@{/patient/add}"
							class="btn btn btn-primary btn-rounded float-right"><i
							class="fa fa-plus"></i> Patient Clinical History Report</a>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div class="table-responsive">
							<table  class="table table-striped" id="tableReport"
								th:if="${not patientList.isEmpty()}">
								<thead>
									<tr>
										<th>#</th>
										<th>Name</th>
										<th>DNI</th>
										<th>ClinicalHirtory</th>
										<th class="text-right">Action</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="patient: ${patientList}">
										<td scope="row" th:text="${patient.id}"></td>
										<td><img width="28" height="28" th:src="@{/img/user.jpg}"
											class="rounded-circle m-r-5" alt=""
											th:text="${patient.fullName}"></td>
										<td th:text="${patient.dni}"></td>
										<td th:text="${patient.numberClinicalHistory}"></td>
										<td class="text-right">
											<div class="dropdown dropdown-action">
												<a href="#" class="action-icon dropdown-toggle"
													data-toggle="dropdown" aria-expanded="false"><i
													class="fa fa-ellipsis-v"></i></a>
												<div class="dropdown-menu dropdown-menu-right">
													<a class="dropdown-item"
														th:href="@{/report/patient/{id}(id=${patient.id})}"><i
														class="fa fa-pencil m-r-5"></i> Generate Report</a>
												</div>
											</div>
										</td>
									</tr>

								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>

		</div>

	</div>
	<div class="sidebar-overlay" data-reff=""></div>
	<th:block th:insert="fragments/resources-js" />
	<script>
		$(document).ready(function() {
			$('#tableReport').DataTable();

		});
	</script>
</body>
</html>

